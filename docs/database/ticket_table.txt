CREATE TYPE status_type AS ENUM
   ('OPEN',
    'CLOSED'
    );
	
CREATE TABLE ticket
(
   id SERIAL PRIMARY KEY, 
   title VARCHAR NOT NULL,
   description TEXT NOT NULL,
   status status_type NOT NULL DEFAULT 'OPEN',
   creation_date timestamptz NOT NULL DEFAULT now()
); 

ALTER TABLE ticket ADD COLUMN author INTEGER NOT NULL;
ALTER TABLE ticket
	ADD CONSTRAINT fk_author_ticket_system_user
	FOREIGN KEY (author)
	REFERENCES system_user(id);

ALTER TABLE ticket ADD COLUMN assignee INTEGER NOT NULL;
ALTER TABLE ticket
	ADD CONSTRAINT fk_assignee_ticket_system_user
	FOREIGN KEY (assignee)
	REFERENCES system_user(id);
	
                                                         Table "public.ticket"
    Column     |           Type           |                      Modifiers                      | Storage  | Stats target | Description
---------------+--------------------------+-----------------------------------------------------+----------+--------------+-------------
 id            | integer                  | not null default nextval('ticket_id_seq'::regclass) | plain    |              |
 title         | character varying        | not null                                            | extended |              |
 description   | text                     | not null                                            | extended |              |
 status        | status_type              | not null default 'OPEN'::status_type                | plain    |              |
 creation_date | timestamp with time zone | not null default now()                              | plain    |              |
 author        | integer                  | not null                                            | plain    |              |
 assignee      | integer                  | not null                                            | plain    |              |
Indexes:
    "ticket_pkey" PRIMARY KEY, btree (id)
Foreign-key constraints:
    "fk_assignee_ticket_system_user" FOREIGN KEY (assignee) REFERENCES system_user(id)
    "fk_author_ticket_system_user" FOREIGN KEY (author) REFERENCES system_user(id)